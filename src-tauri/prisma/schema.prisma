datasource db {
    provider = "sqlite"
    url      = "file:dev/openchat-dev.db"
}

generator client {
    provider    = "cargo prisma"
    output      = "../src/prisma.rs"
    module_path = "crate::prisma"
}

model Prompt {
    id        Int      @id @default(autoincrement())
    title     String
    descript  String
    prompt    String
    createdAt DateTime @default(now()) @map(name: "created_at")
    updatedAt DateTime @updatedAt @map(name: "updated_at")
}

model SessionData {
    id        Int      @id @default(autoincrement())
    sessionId Int
    message   String
    createdAt DateTime @default(now()) @map(name: "created_at")
    updatedAt DateTime @updatedAt @map(name: "updated_at")
    Session   Session  @relation(fields: [sessionId], references: [id])
}

model Session {
    id        Int           @id @default(autoincrement())
    title     String
    messages  SessionData[]
    createdAt DateTime      @default(now()) @map(name: "created_at")
    updatedAt DateTime      @updatedAt @map(name: "updated_at")
}

model Settings {
    id        Int      @id @default(autoincrement())
    key       String
    value     String
    createdAt DateTime @default(now()) @map(name: "created_at")
    updatedAt DateTime @updatedAt @map(name: "updated_at")
}
