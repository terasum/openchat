datasource db {
    provider = "sqlite"
    url      = "file:/Users/chenquan/Library/Application\\ Support/OpenChat/openchat-data-dev.db"
}

generator client {
    provider    = "cargo prisma"
    output      = "../src/db/prisma_client.rs"
    module_path = "crate::db::prisma_client"
}

model Prompt {
    id        Int      @id @default(autoincrement())
    title     String
    descript  String
    prompt    String
    createdAt DateTime @default(now()) @map(name: "created_at")
    updatedAt DateTime @default(now()) @updatedAt @map(name: "updated_at")

    @@map("prompt")
}

model SessionData {
    id           Int      @id @default(autoincrement())
    sessionId    String
    role         String
    message      String
    is_ask       Boolean
    is_memory    Boolean
    message_type String
    model        String
    session      Session? @relation(fields: [sessionId], references: [id], name: "SessionData")
    createdAt    DateTime @default(now()) @map(name: "created_at")
    updatedAt    DateTime @default(now()) @updatedAt @map(name: "updated_at")

    @@map("session_data")
}

model Session {
    id          String        @id @default(cuid())
    title       String
    role_id     Int
    type        String
    SessionData SessionData[] @relation(name: "SessionData")
    createdAt   DateTime      @default(now()) @map(name: "created_at")
    updatedAt   DateTime      @default(now()) @updatedAt @map(name: "updated_at")

    @@map("session")
}

model Settings {
    id        Int      @id @default(autoincrement())
    key       String
    value     String
    createdAt DateTime @default(now()) @map(name: "created_at")
    updatedAt DateTime @default(now()) @updatedAt @map(name: "updated_at")

    @@map("settings")
}
